import{j as v,ad as Y}from"./Ug3-BJIZ.js";function E(r){var t,e,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(t=0;t<n;t++)r[t]&&(e=E(r[t]))&&(s&&(s+=" "),s+=e)}else for(e in r)r[e]&&(s&&(s+=" "),s+=e);return s}function $(){for(var r,t,e=0,s="",n=arguments.length;e<n;e++)(r=arguments[e])&&(t=E(r))&&(s&&(s+=" "),s+=t);return s}function P(r){return typeof r=="object"?$(r):r??""}const H=[...` 	
\r\fÂ \v\uFEFF`];function q(r,t,e){var s=r==null?"":""+r;if(t&&(s=s?s+" "+t:t),e){for(var n in e)if(e[n])s=s?s+" "+n:n;else if(s.length)for(var i=n.length,h=0;(h=s.indexOf(n,h))>=0;){var u=h+i;(h===0||H.includes(s[h-1]))&&(u===s.length||H.includes(s[u]))?s=(h===0?"":s.substring(0,h))+s.substring(u+1):h=u}}return s===""?null:s}function W(r,t=!1){var e=t?" !important;":";",s="";for(var n in r){var i=r[n];i!=null&&i!==""&&(s+=" "+n+": "+i+e)}return s}function b(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function T(r,t){if(t){var e="",s,n;if(Array.isArray(t)?(s=t[0],n=t[1]):s=t,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,h=0,u=!1,f=[];s&&f.push(...Object.keys(s).map(b)),n&&f.push(...Object.keys(n).map(b));var p=0,y=-1;const m=r.length;for(var c=0;c<m;c++){var o=r[c];if(u?o==="/"&&r[c-1]==="*"&&(u=!1):i?i===o&&(i=!1):o==="/"&&r[c+1]==="*"?u=!0:o==='"'||o==="'"?i=o:o==="("?h++:o===")"&&h--,!u&&i===!1&&h===0){if(o===":"&&y===-1)y=c;else if(o===";"||c===m-1){if(y!==-1){var S=b(r.substring(p,y).trim());if(!f.includes(S)){o!==";"&&c++;var N=r.substring(p,c).trim();e+=" "+N+";"}}p=c+1,y=-1}}}}return s&&(e+=W(s)),n&&(e+=W(n,!0)),e=e.trim(),e===""?null:e}return r==null?null:String(r)}function U(r,t,e,s,n,i){var h=r.__className;if(v||h!==e||h===void 0){var u=q(e,s,i);(!v||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):t?r.className=u:r.setAttribute("class",u)),r.__className=e}else if(i&&n!==i)for(var f in i){var p=!!i[f];(n==null||p!==!!n[f])&&r.classList.toggle(f,p)}return i}class l{constructor(t,e){this.x=t,this.y=e,this._length=void 0,this._angle=void 0}get length(){return this._length===void 0&&(this._length=Math.sqrt(this.x*this.x+this.y*this.y)),this._length}get angle(){return this._angle===void 0&&(this._angle=Math.atan2(this.y,this.x)),this._angle}static fromPolar(t,e){return new l(t*Math.cos(e),t*Math.sin(e))}add(t){return new l(this.x+t.x,this.y+t.y)}subtract(t){return new l(this.x-t.x,this.y-t.y)}multiply(t){return new l(this.x*t,this.y*t)}scaleX(t){return new l(this.x*t,this.y)}scaleY(t){return new l(this.x,this.y*t)}scaleXY(t,e){return new l(this.x*t,this.y*e)}rotate(t){const e=Math.cos(t),s=Math.sin(t);return new l(this.x*e-this.y*s,this.x*s+this.y*e)}rotateAround(t,e){return this.subtract(t).rotate(e).add(t)}distance(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}distanceSquared(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)}get unit(){const t=this.length;return t===0?new l(0,0):new l(this.x/t,this.y/t)}static origin(){return new l(0,0)}copy(){return new l(this.x,this.y)}}function F(r){return new l(r,0)}function D(r){return new l(0,r)}class d{constructor(t,e){this.start=t,this.end=e,this._length=void 0,this._angle=void 0}get length(){return this._length===void 0&&(this._length=this.start.distance(this.end)),this._length}get angle(){return this._angle===void 0&&(this._angle=Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)),this._angle}get midpoint(){return new l((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}get unit(){return new d(this.start.unit(),this.end.unit())}get inverse(){return new d(this.end,this.start)}translate(t){return new d(this.start.add(t),this.end.add(t))}scale(t){return new d(this.start.multiply(t),this.end.multiply(t))}scaleX(t){return new d(this.start.scaleX(t),this.end.scaleX(t))}scaleY(t){return new d(this.start.scaleY(t),this.end.scaleY(t))}scaleXY(t,e){return new d(this.start.scaleXY(t,e),this.end.scaleXY(t,e))}x_at_y(t){if(this.start.y===this.end.y)throw new Error("Line is horizontal, cannot compute x at y.");const e=(t-this.start.y)/(this.end.y-this.start.y);return this.start.x+e*(this.end.x-this.start.x)}y_at_x(t){if(this.start.x===this.end.x)throw new Error("Line is vertical, cannot compute y at x.");const e=(t-this.start.x)/(this.end.x-this.start.x);return this.start.y+e*(this.end.y-this.start.y)}rotate(t){return new d(this.start.rotate(t),this.end.rotate(t))}rotateAround(t,e){return new d(this.start.rotateAround(t,e),this.end.rotateAround(t,e))}copy(){return new d(this.start.copy(),this.end.copy())}to_changes(){if(this.start.y>this.end.y)return this.inverse.to_changes();if(this.start.x===this.end.x)return[];if(this.start.y===this.end.y)return[{r:Math.round(this.start.y),diff:Math.round(this.end.x-this.start.x)}];let t=Math.round(this.start.y),e=Math.round(this.start.x),s=[];for(let n=t+1;n<=Math.round(this.end.y);n++){let i=Math.round(this.x_at_y(n));i!==e&&(s.push({r:n-t,diff:i-e}),e=i)}return e!==Math.round(this.end.x)&&s.push({r:Math.round(this.end.y)-t,diff:Math.round(this.end.x)-e}),s}}class g{constructor(t,e,s,n){this.start=t,this.c1=e,s===void 0?this.c2=e.copy():this.c2=s,this.end=n,this._length=void 0}x(t){return(1-t)**3*this.start.x+3*(1-t)**2*t*this.c1.x+3*(1-t)*t**2*this.c2.x+t**3*this.end.x}y(t){return(1-t)**3*this.start.y+3*(1-t)**2*t*this.c1.y+3*(1-t)*t**2*this.c2.y+t**3*this.end.y}point(t){return new l(this.x(t),this.y(t))}x_at_y(t){if(t<this.start.y||t>this.end.y)throw new Error(`y = ${t} is out of bounds for the Bezier curve between y = ${this.start.y} and y = ${this.end.y}.`);if(t==this.start.y)return this.start.x;if(t==this.end.y)return this.end.x;for(let e=.1;e>=1e-4;e/=10){let s=0;for(this.y(0);s<1;){let n=this.y(s);if(n>=t){let i=s-e,h=this.y(i),u=n;if(u===h)return this.x(i);let f=i+(t-h)/(u-h)*e;return this.x(f)}s+=e}}throw console.error({y:t,curve:this}),new Error("No x found for given y in Bezier curve.")}get length(){if(this._length!==void 0)return this._length;let t=0,e=500;for(let s=0;s<e;s++){let n=s/e,i=(s+1)/e,h=this.point(n),u=this.point(i);t+=h.distance(u)}return this._length=t,t}get inverse(){return new g(this.end,this.c2,this.c1,this.start)}translate(t){return new g(this.start.add(t),this.c1.add(t),this.c2.add(t),this.end.add(t))}scale(t){return new g(this.start.multiply(t),this.c1.multiply(t),this.c2.multiply(t),this.end.multiply(t))}scaleX(t){return new g(this.start.scaleX(t),this.c1.scaleX(t),this.c2.scaleX(t),this.end.scaleX(t))}scaleY(t){return new g(this.start.scaleY(t),this.c1.scaleY(t),this.c2.scaleY(t),this.end.scaleY(t))}scaleXY(t,e){return new g(this.start.scaleXY(t,e),this.c1.scaleXY(t,e),this.c2.scaleXY(t,e),this.end.scaleXY(t,e))}to_changes(){if(this.start.y>this.end.y)return this.inverse.to_changes();let t=Math.round(this.start.y),e=[],s=Math.round(this.start.x);for(let n=t+1;n<=Math.round(this.end.y);n++){let i=Math.round(this.x_at_y(n>this.end.y?this.end.y:n));i!==s&&(e.push({r:n-t,diff:i-s}),s=i)}return s!==Math.round(this.end.x)&&e.push({r:Math.round(this.end.y)-t,diff:Math.round(this.end.x)-s}),e}}const w=2.54,_={A_c:23,W_sl:16,W_w:9,H_Cap:void 0,H_sl:28,H_rib:2,W:22.5,W_s:14,H:32,W_n:10,H_n:6,H_nb:1,st_per_inch:8,row_per_inch:8,row_per_inch_rib:8,neckline:"round",neckband:"folded",neckband_width:2,ease:1,unit:"in"},a=Y(_);function J(){let r=Math.sqrt(a.A_c**2-a.W_sl**2)/2,t=r/2,e=(r+t)/2,s=a.A_c/2,n=1e-6;function i(u){let f=new l(0,0),p=new l(a.W_sl/4,0),y=new l(a.W_sl/4,u),c=new l(a.W_sl/2,u);return new g(f,p,y,c).length}let h=0;for(;Math.abs(s-i(e))>n&&h<500;)e=(r+t)/2,i(e)<s?t=e:r=e,h++;return h>=500&&console.warn("calc_cap_height: Iteration limit reached, result may not be accurate."),a.H_cap=e,e}function x(){J()}x();const M=Y({mobile:!1,theme:"nord",dark:!1});function O(r,t=!1){let e=["A_c","W_sl","W_w","H_Cap","H_sl","H_rib","W","W_s","H","W_n","H_n","H_nb","neckband_width","ease"],s=["st_per_inch","row_per_inch","row_per_inch_rib"];r==a.unit&&!t||(r=="in"?(e.forEach(n=>{a[n]=Math.round(a[n]/w*100)/100}),s.forEach(n=>{a[n]=Math.round(a[n]*w*100)/100})):(r="cm")?(e.forEach(n=>{a[n]=Math.round(a[n]*w*100)/100}),s.forEach(n=>{a[n]=Math.round(a[n]/w*100)/100})):console.warn(`Unexpected unit: ${r}
Unable to convert.`))}function A(r,t,e){let s="";{let n=new Date;n.setTime(n.getTime()+e*24*60*60*1e3),s="; expires="+n.toUTCString()}document.cookie=r+"="+(t||"")+s+"; path=/"}function X(r){let t=r+"=",e=document.cookie.split(";");for(let s=0;s<e.length;s++){let n=e[s];for(;n.charAt(0)==" ";)n=n.substring(1,n.length);if(n.indexOf(t)==0)return n.substring(t.length,n.length)}return null}function j(){A("jumper_measurements",JSON.stringify(a),30),A("jumper_app_state",JSON.stringify(M),30)}function I(){let r=X("jumper_measurements");if(r)try{let e=JSON.parse(r);Object.keys(e).forEach(s=>{a.hasOwnProperty(s)&&(a[s]=e[s])})}catch(e){console.error("Failed to parse saved state:",e)}let t=X("jumper_app_state");if(t)try{let e=JSON.parse(t);Object.keys(e).forEach(s=>{M.hasOwnProperty(s)&&(M[s]=e[s])})}catch(e){console.error("Failed to parse app state:",e)}x()}function Q(){["A_c","W_sl","W_w","H_Cap","H_sl","H_rib","W","W_s","H","W_n","H_n","H_nb","neckband_width","ease"].forEach(t=>{a[t]=_[t]}),a.unit=="cm"&&O("cm",!0),x(),j()}function z(){let r=["st_per_inch","row_per_inch","row_per_inch_rib","neckline","neckband","unit"];a.unit!=_.unit&&O(_.unit,!0),r.forEach(t=>{a[t]=_[t]}),x(),j()}export{g as B,l as C,d as L,F as X,D as Y,M as a,j as b,O as c,Q as d,P as e,$ as f,I as l,a as m,z as r,U as s,T as t,x as u};
