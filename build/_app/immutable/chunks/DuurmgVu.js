import{j as v,ad as Y}from"./Ug3-BJIZ.js";function E(r){var t,e,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(t=0;t<n;t++)r[t]&&(e=E(r[t]))&&(s&&(s+=" "),s+=e)}else for(e in r)r[e]&&(s&&(s+=" "),s+=e);return s}function N(){for(var r,t,e=0,s="",n=arguments.length;e<n;e++)(r=arguments[e])&&(t=E(r))&&(s&&(s+=" "),s+=t);return s}function J(r){return typeof r=="object"?N(r):r??""}const H=[...` 	
\r\fÂ \v\uFEFF`];function k(r,t,e){var s=r==null?"":""+r;if(t&&(s=s?s+" "+t:t),e){for(var n in e)if(e[n])s=s?s+" "+n:n;else if(s.length)for(var i=n.length,h=0;(h=s.indexOf(n,h))>=0;){var a=h+i;(h===0||H.includes(s[h-1]))&&(a===s.length||H.includes(s[a]))?s=(h===0?"":s.substring(0,h))+s.substring(a+1):h=a}}return s===""?null:s}function W(r,t=!1){var e=t?" !important;":";",s="";for(var n in r){var i=r[n];i!=null&&i!==""&&(s+=" "+n+": "+i+e)}return s}function x(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function P(r,t){if(t){var e="",s,n;if(Array.isArray(t)?(s=t[0],n=t[1]):s=t,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,h=0,a=!1,d=[];s&&d.push(...Object.keys(s).map(x)),n&&d.push(...Object.keys(n).map(x));var p=0,y=-1;const m=r.length;for(var o=0;o<m;o++){var c=r[o];if(a?c==="/"&&r[o-1]==="*"&&(a=!1):i?i===c&&(i=!1):c==="/"&&r[o+1]==="*"?a=!0:c==='"'||c==="'"?i=c:c==="("?h++:c===")"&&h--,!a&&i===!1&&h===0){if(c===":"&&y===-1)y=o;else if(c===";"||o===m-1){if(y!==-1){var j=x(r.substring(p,y).trim());if(!d.includes(j)){c!==";"&&o++;var S=r.substring(p,o).trim();e+=" "+S+";"}}p=o+1,y=-1}}}}return s&&(e+=W(s)),n&&(e+=W(n,!0)),e=e.trim(),e===""?null:e}return r==null?null:String(r)}function T(r,t,e,s,n,i){var h=r.__className;if(v||h!==e||h===void 0){var a=k(e,s,i);(!v||a!==r.getAttribute("class"))&&(a==null?r.removeAttribute("class"):t?r.className=a:r.setAttribute("class",a)),r.__className=e}else if(i&&n!==i)for(var d in i){var p=!!i[d];(n==null||p!==!!n[d])&&r.classList.toggle(d,p)}return i}class l{constructor(t,e){this.x=t,this.y=e,this._length=void 0,this._angle=void 0}get length(){return this._length===void 0&&(this._length=Math.sqrt(this.x*this.x+this.y*this.y)),this._length}get angle(){return this._angle===void 0&&(this._angle=Math.atan2(this.y,this.x)),this._angle}static fromPolar(t,e){return new l(t*Math.cos(e),t*Math.sin(e))}add(t){return new l(this.x+t.x,this.y+t.y)}subtract(t){return new l(this.x-t.x,this.y-t.y)}multiply(t){return new l(this.x*t,this.y*t)}scaleX(t){return new l(this.x*t,this.y)}scaleY(t){return new l(this.x,this.y*t)}scaleXY(t,e){return new l(this.x*t,this.y*e)}rotate(t){const e=Math.cos(t),s=Math.sin(t);return new l(this.x*e-this.y*s,this.x*s+this.y*e)}rotateAround(t,e){return this.subtract(t).rotate(e).add(t)}distance(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}distanceSquared(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)}get unit(){const t=this.length;return t===0?new l(0,0):new l(this.x/t,this.y/t)}static origin(){return new l(0,0)}copy(){return new l(this.x,this.y)}}function U(r){return new l(r,0)}function F(r){return new l(0,r)}class f{constructor(t,e){this.start=t,this.end=e,this._length=void 0,this._angle=void 0}get length(){return this._length===void 0&&(this._length=this.start.distance(this.end)),this._length}get angle(){return this._angle===void 0&&(this._angle=Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)),this._angle}get midpoint(){return new l((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}get unit(){return new f(this.start.unit(),this.end.unit())}get inverse(){return new f(this.end,this.start)}translate(t){return new f(this.start.add(t),this.end.add(t))}scale(t){return new f(this.start.multiply(t),this.end.multiply(t))}scaleX(t){return new f(this.start.scaleX(t),this.end.scaleX(t))}scaleY(t){return new f(this.start.scaleY(t),this.end.scaleY(t))}scaleXY(t,e){return new f(this.start.scaleXY(t,e),this.end.scaleXY(t,e))}x_at_y(t){if(this.start.y===this.end.y)throw new Error("Line is horizontal, cannot compute x at y.");const e=(t-this.start.y)/(this.end.y-this.start.y);return this.start.x+e*(this.end.x-this.start.x)}y_at_x(t){if(this.start.x===this.end.x)throw new Error("Line is vertical, cannot compute y at x.");const e=(t-this.start.x)/(this.end.x-this.start.x);return this.start.y+e*(this.end.y-this.start.y)}rotate(t){return new f(this.start.rotate(t),this.end.rotate(t))}rotateAround(t,e){return new f(this.start.rotateAround(t,e),this.end.rotateAround(t,e))}copy(){return new f(this.start.copy(),this.end.copy())}to_changes(){if(this.start.y>this.end.y)return this.inverse.to_changes();if(this.start.x===this.end.x)return[];if(this.start.y===this.end.y)return[{r:Math.round(this.start.y),diff:Math.round(this.end.x-this.start.x)}];let t=Math.round(this.start.y),e=Math.round(this.start.x),s=[];for(let n=t+1;n<=Math.round(this.end.y);n++){let i=Math.round(this.x_at_y(n));i!==e&&(s.push({r:n-t,diff:i-e}),e=i)}return e!==Math.round(this.end.x)&&s.push({r:Math.round(this.end.y)-t,diff:Math.round(this.end.x)-e}),s}}class g{constructor(t,e,s,n){this.start=t,this.c1=e,s===void 0?this.c2=e.copy():this.c2=s,this.end=n,this._length=void 0}x(t){return(1-t)**3*this.start.x+3*(1-t)**2*t*this.c1.x+3*(1-t)*t**2*this.c2.x+t**3*this.end.x}y(t){return(1-t)**3*this.start.y+3*(1-t)**2*t*this.c1.y+3*(1-t)*t**2*this.c2.y+t**3*this.end.y}point(t){return new l(this.x(t),this.y(t))}x_at_y(t){if(t<this.start.y||t>this.end.y)throw new Error(`y = ${t} is out of bounds for the Bezier curve between y = ${this.start.y} and y = ${this.end.y}.`);if(t==this.start.y)return this.start.x;if(t==this.end.y)return this.end.x;for(let e=.1;e>=1e-4;e/=10){let s=0;for(this.y(0);s<1;){let n=this.y(s);if(n>=t){let i=s-e,h=this.y(i),a=n;if(a===h)return this.x(i);let d=i+(t-h)/(a-h)*e;return this.x(d)}s+=e}}throw console.error({y:t,curve:this}),new Error("No x found for given y in Bezier curve.")}get length(){if(this._length!==void 0)return this._length;let t=0,e=500;for(let s=0;s<e;s++){let n=s/e,i=(s+1)/e,h=this.point(n),a=this.point(i);t+=h.distance(a)}return this._length=t,t}get inverse(){return new g(this.end,this.c2,this.c1,this.start)}translate(t){return new g(this.start.add(t),this.c1.add(t),this.c2.add(t),this.end.add(t))}scale(t){return new g(this.start.multiply(t),this.c1.multiply(t),this.c2.multiply(t),this.end.multiply(t))}scaleX(t){return new g(this.start.scaleX(t),this.c1.scaleX(t),this.c2.scaleX(t),this.end.scaleX(t))}scaleY(t){return new g(this.start.scaleY(t),this.c1.scaleY(t),this.c2.scaleY(t),this.end.scaleY(t))}scaleXY(t,e){return new g(this.start.scaleXY(t,e),this.c1.scaleXY(t,e),this.c2.scaleXY(t,e),this.end.scaleXY(t,e))}to_changes(){if(this.start.y>this.end.y)return this.inverse.to_changes();let t=Math.round(this.start.y),e=[],s=Math.round(this.start.x);for(let n=t+1;n<=Math.round(this.end.y);n++){let i=Math.round(this.x_at_y(n>this.end.y?this.end.y:n));i!==s&&(e.push({r:n-t,diff:i-s}),s=i)}return s!==Math.round(this.end.x)&&e.push({r:Math.round(this.end.y)-t,diff:Math.round(this.end.x)-s}),e}}const _=2.54,M={A_c:23,W_sl:16,W_w:9,H_Cap:void 0,H_sl:28,H_rib:2,W:22.5,W_s:14,H:32,W_n:10,H_n:6,H_nb:1,st_per_inch:8,row_per_inch:8,row_per_inch_rib:8,neckline:"round",neckband:"folded",neckband_width:2,ease:1,unit:"in"},u=Y(M);function $(){let r=Math.sqrt(u.A_c**2-u.W_sl**2)/2,t=r/2,e=(r+t)/2,s=u.A_c/2,n=1e-6;function i(a){let d=new l(0,0),p=new l(u.W_sl/4,0),y=new l(u.W_sl/4,a),o=new l(u.W_sl/2,a);return new g(d,p,y,o).length}let h=0;for(;Math.abs(s-i(e))>n&&h<500;)e=(r+t)/2,i(e)<s?t=e:r=e,h++;return h>=500&&console.warn("calc_cap_height: Iteration limit reached, result may not be accurate."),u.H_cap=e,e}function w(){$()}w();const b=Y({mobile:!1,theme:"nord",dark:!1});function D(r){let t=["A_c","W_sl","W_w","H_Cap","H_sl","H_rib","W","W_s","H","W_n","H_n","H_nb","neckband_width","ease"],e=["st_per_inch","row_per_inch","row_per_inch_rib"];r!=u.unit&&(r=="in"?(t.forEach(s=>{u[s]=Math.round(u[s]/_*100)/100}),e.forEach(s=>{u[s]=Math.round(u[s]*_*100)/100})):(r="cm")?(t.forEach(s=>{u[s]=Math.round(u[s]*_*100)/100}),e.forEach(s=>{u[s]=Math.round(u[s]/_*100)/100})):console.warn(`Unexpected unit: ${r}
Unable to convert.`))}function A(r,t,e){let s="";{let n=new Date;n.setTime(n.getTime()+e*24*60*60*1e3),s="; expires="+n.toUTCString()}document.cookie=r+"="+(t||"")+s+"; path=/"}function X(r){let t=r+"=",e=document.cookie.split(";");for(let s=0;s<e.length;s++){let n=e[s];for(;n.charAt(0)==" ";)n=n.substring(1,n.length);if(n.indexOf(t)==0)return n.substring(t.length,n.length)}return null}function O(){A("jumper_measurements",JSON.stringify(u),30),A("jumper_app_state",JSON.stringify(b),30),console.log("State saved to cookie.")}function I(){let r=X("jumper_measurements");if(console.log(r),r)try{let e=JSON.parse(r);console.log("Loaded state from cookie:",e),Object.keys(e).forEach(s=>{u.hasOwnProperty(s)&&(u[s]=e[s])})}catch(e){console.error("Failed to parse saved state:",e)}let t=X("jumper_app_state");if(t)try{let e=JSON.parse(t);console.log("Loaded app state from cookie:",e),Object.keys(e).forEach(s=>{b.hasOwnProperty(s)&&(b[s]=e[s])})}catch(e){console.error("Failed to parse app state:",e)}console.log("State loaded from cookie."),w()}function Q(){["A_c","W_sl","W_w","H_Cap","H_sl","H_rib","W","W_s","H","W_n","H_n","H_nb","neckband_width","ease"].forEach(t=>{u[t]=M[t]}),w(),O()}function z(){["st_per_inch","row_per_inch","row_per_inch_rib","neckline","neckband","unit"].forEach(t=>{u[t]=M[t]}),w(),O()}export{g as B,l as C,f as L,U as X,F as Y,b as a,O as b,D as c,Q as d,J as e,N as f,I as l,u as m,z as r,T as s,P as t,w as u};
